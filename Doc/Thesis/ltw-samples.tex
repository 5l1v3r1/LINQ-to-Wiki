\section{Samples of queries}

The project LinqToWiki.Samples contains one class with methods
that show the usage of each available module of the \ac{API}.
It also contains one real-world complex query that combines LinqToWiki with LINQ to objects
to search for empty categories that are not redirects.

When run, it is a console application that shows the output of the selected module.
Selecting the module to use is done by changing which method is called by the \lstinline{Main()} method.

See Figure~\ref{query-samples} for few of the sample queries.

\begin{figure}[htbp]

\begin{lstlisting}
private static void Compare(Wiki wiki)
{
	var result = wiki.compare(fromrev: 486474789,
                                     torev: 487063697);
	Console.WriteLine(result.value);
}

private static PagesSource<Page> CategoryMembersSource(Wiki wiki)
{
	return (from cm in wiki.Query.categorymembers()
		 where cm.title == "Category:Query languages"
		     && cm.type == categorymemberstype.subcat
		 select cm).Pages;
}

private static void Images(PagesSource<Page> pages)
{
	var source = pages
		.Select(
			p =>
			PageResult.Create(
				p.info,
				p.images().ToEnumerable())
		);

	Write(source);
}

private static void QueryPage(Wiki wiki)
{
	var result = wiki.Query.querypage(
		querypagepage.Uncategorizedpages);

	Write(result);
}        
\end{lstlisting}

\caption{Some of the sample queries}
\label{query-samples}
\end{figure}